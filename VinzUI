local VinzHub = {}
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- Create ScreenGui
local ScreenGui = Instance.new("ScreenGui", PlayerGui)
ScreenGui.Name = "VinzHubUI"
ScreenGui.IgnoreGuiInset = true
ScreenGui.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 550, 0, 400)
MainFrame.Position = UDim2.new(0.5, -275, 0.5, -200)
MainFrame.BackgroundTransparency = 1
MainFrame.BorderSizePixel = 0

-- UI Blur Inside Frame
local BlurBG = Instance.new("ImageLabel", MainFrame)
BlurBG.Size = UDim2.new(1, 0, 1, 0)
BlurBG.Position = UDim2.new(0, 0, 0, 0)
BlurBG.BackgroundTransparency = 1
BlurBG.Image = "rbxassetid://7733954124" -- ini asset blur transparan
BlurBG.ImageTransparency = 0.2
BlurBG.ScaleType = Enum.ScaleType.Slice
BlurBG.SliceCenter = Rect.new(10, 10, 118, 118)

local corner = Instance.new("UICorner", BlurBG)
corner.CornerRadius = UDim.new(0, 15)

local Gradient = Instance.new("UIGradient", BlurBG)
Gradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(150, 0, 255)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 200, 255))
}
Gradient.Rotation = 45

-- Title
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 50)
Title.BackgroundTransparency = 1
Title.Text = "VinzHub UI"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextScaled = true

-- SideBar (buat tab system)
local SideBar = Instance.new("Frame", MainFrame)
SideBar.Size = UDim2.new(0, 130, 1, -50)
SideBar.Position = UDim2.new(0, 0, 0, 50)
SideBar.BackgroundTransparency = 0.3
SideBar.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
SideBar.BorderSizePixel = 0

local sidebarCorner = Instance.new("UICorner", SideBar)
sidebarCorner.CornerRadius = UDim.new(0, 10)

local UIListLayout = Instance.new("UIListLayout", SideBar)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 5)

-- Main Content Holder
local ContentFrame = Instance.new("Frame", MainFrame)
ContentFrame.Size = UDim2.new(1, -130, 1, -50)
ContentFrame.Position = UDim2.new(0, 130, 0, 50)
ContentFrame.BackgroundTransparency = 1

-- Tab System
local Tabs = {}

function VinzHub:CreateTab(tabName)
	local Button = Instance.new("TextButton", SideBar)
	Button.Size = UDim2.new(1, 0, 0, 40)
	Button.Text = tabName
	Button.BackgroundTransparency = 0.2
	Button.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	Button.Font = Enum.Font.GothamBold
	Button.TextColor3 = Color3.new(1, 1, 1)
	local corner = Instance.new("UICorner", Button)
	corner.CornerRadius = UDim.new(0, 8)

	local TabFrame = Instance.new("Frame", ContentFrame)
	TabFrame.Size = UDim2.new(1, 0, 1, 0)
	TabFrame.Visible = false
	TabFrame.BackgroundTransparency = 1

	Tabs[tabName] = TabFrame

	Button.MouseButton1Click:Connect(function()
		for _, v in pairs(ContentFrame:GetChildren()) do
			if v:IsA("Frame") then v.Visible = false end
		end
		TabFrame.Visible = true
	end)

	if not ContentFrame:FindFirstChildOfClass("Frame") then
		TabFrame.Visible = true
	end

	return TabFrame
end

function VinzHub:CreateButton(tabFrame, text, callback)
	local Button = Instance.new("TextButton", tabFrame)
	Button.Size = UDim2.new(0, 180, 0, 40)
	Button.Position = UDim2.new(0, 20, 0, 20 + #tabFrame:GetChildren() * 45)
	Button.BackgroundColor3 = Color3.fromRGB(100, 0, 200)
	Button.Text = text
	Button.Font = Enum.Font.GothamBold
	Button.TextColor3 = Color3.new(1,1,1)
	local corner = Instance.new("UICorner", Button)
	corner.CornerRadius = UDim.new(0, 10)

	Button.MouseButton1Click:Connect(callback)
end

-- DRAGGABLE FUNCTION
local UIS = game:GetService("UserInputService")
local dragging
local dragInput
local dragStart
local startPos

local function update(input)
	local delta = input.Position - dragStart
	MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
		startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

MainFrame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = MainFrame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

MainFrame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)

UIS.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		update(input)
	end
end)

return VinzHub
